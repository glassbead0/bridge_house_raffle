<div class="page-header">
  <%= link_to tickets_path(format: 'csv'), :class => 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-download-alt"></span>
    Download CSV
  <% end %>
  <%= link_to tickets_path(format: 'xls'), :class => 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-download-alt"></span>
    Download XLS
  <% end %>
  <h1>Listing tickets</h1>
</div>

<%= search_form_for @q, class: 'form-horizontal' do |f| %>
  <div class="row">
    <div class="col-sm-4">
      <%= f.search_field :first_name_or_last_name_or_email_or_phone_number_cont, class: 'form-control', placeholder: 'search for name, email or phone number' %>
    </div>
    <div class="col-sm-1">
      <%= f.submit 'Go', class: 'btn btn-success' %>
    </div>
    <div class="col-sm-2">
      <%= link_to 'Show All', tickets_path, class: 'btn btn-primary' %>
    </div>
  </div>
<% end %>
<br/>

<%= will_paginate @tickets, renderer: BootstrapPagination::Rails %>
<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
            <th>Ticket Number</th>
            <th>First name</th>
            <th>MI</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Subscribe</th>
            <th>Address line one</th>
            <th>Address line two</th>
            <th>City</th>
            <th>State</th>
            <th>Zip code</th>
            <th>Phone</th>
            <th>Location</th>
            <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @tickets) do |ticket| %>


            <td><%= ticket.id %></td>
            <td><%= ticket.first_name %></td>
            <td><%= ticket.middle_initial %></td>
            <td><%= ticket.last_name %></td>
            <td><%= ticket.email %></td>
            <td><%= ticket.subscribe %></td>
            <td><%= ticket.address_line_one %></td>
            <td><%= ticket.address_line_two %></td>
            <td><%= ticket.city %></td>
            <td><%= ticket.state %></td>
            <td><%= ticket.zip_code %></td>
            <td><%= ticket.phone_number %></td>
            <td><%= ticket.location %></td>
            <td><%= link_to 'Show', ticket %></td>
        <td><%= link_to 'Edit', edit_ticket_path(ticket) %></td>
        <td><%= link_to 'Destroy', ticket, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <% end %>
    </tbody>
  </table>
</div>
